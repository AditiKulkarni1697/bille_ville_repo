<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Signup Page</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp"
      crossorigin="anonymous"
    />
    <style>
     body {
        width: 95vw;
        margin: auto;
      }
      header,
      main,
      footer {
        margin-top: 28px;
      }
      main  {
        margin: 50px;
      }
      h2{
        text-align: center;
      }
      
    </style>
  </head>
  
  <body>
    <!-- header -->
    <header>
      <!-- navbar -->
      <nav class="navbar text-bg-dark p-3">
        <div class="container-fluid" style="height: 100px">
          <img src="../images/Bille Ville.png" width="80px" />
          <form class="d-flex" role="search">
            
            <a class="btn btn-secondary" href="../index.html">HomePage</a>
            <!-- <button class="btn btn-outline-success" type="submit"> -->

            <!-- </button> -->
          </form>
        </div>
      </nav>
    </header>
    <main>
    <form id="container">
      <h2 >CREATE AN ACCOUNT</h2>
      <p>First name</p>
      <input type="text" id="first_name" />
      <p>Last Name</p>
      <input type="text" id="last_name" />
      <p>Email Address</p>
      <input type="text" id="email_address" />
      <p>Choose a Password</p>
      <input type="password" id="password" />
      <input type="checkbox" onclick="showPass()"></input>Show Password
      <div id="instructions">
        <p>
          Mix uppercase letters,lowercase letters, and numbers to create a
          stronger password
        </p>
        <ul>
          <li>Must be 8 - 16 Characters</li>
          <li>Must contain at least one special character</li>
          <li>Must contain at least one uppercase</li>
          <li>Must contain at least one lowercase</li>
          <li>Must contain at least one number</li>
        </ul>
      </div>
      <p>Date of Birth</p>
      <select id="month">
        <option value="Month">Month</option>
        <option value="January">January</option>
        <option value="February">February</option>
        <option value="March">March</option>
        <option value="April">April</option>
        <option value="May">May</option>
        <option value="June">June</option>
        <option value="Jully">Jully</option>
        <option value="August">August</option>
        <option value="September">September</option>
        <option value="October">October</option>
        <option value="November">November</option>
        <option value="December">December</option>
      </select>
      <select id="date">
        <option>Date</option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
        <option value="8">8</option>
        <option value="9">9</option>
        <option value="10">10</option>
        <option value="11">11</option>
        <option value="12">12</option>
        <option value="13">13</option>
        <option value="14">14</option>
        <option value="15">15</option>
        <option value="16">16</option>
        <option value="17">17</option>
        <option value="18">18</option>
        <option value="19">19</option>
        <option value="20">20</option>
        <option value="21">21</option>
        <option value="22">22</option>
        <option value="23">23</option>
        <option value="24">24</option>
        <option value="25">25</option>
        <option value="26">26</option>
        <option value="27">27</option>
        <option value="28">28</option>
        <option value="29">29</option>
        <option value="30">30</option>
        <option value="31">31</option>
      </select>

      <input type="submit" value="Submit" style="display: block" />
    </form>
    <div>
        <h2 id="response"></h2>
    </div>
  </main>
    <!-- Footer -->
    <footer class="text-center text-white" style="background-color: black">
      <!-- Grid container -->
      <div class="container text-center" style="margin: auto">
        <!-- Section: Links -->
        <section class="mt-5">
          <!-- Grid row-->
          <div class="row text-center d-flex justify-content-center pt-5">
            <!-- Grid column -->
            <div class="col-md-2">
              <h6 class="text-uppercase font-weight-bold">
                <a href="#!" class="text-white">About us</a>
              </h6>
            </div>
            <!-- Grid column -->

            <!-- Grid column -->
            <div class="col-md-2">
              <h6 class="text-uppercase font-weight-bold">
                <a href="#!" class="text-white">Products</a>
              </h6>
            </div>
            <!-- Grid column -->

            <!-- Grid column -->
            <div class="col-md-2">
              <h6 class="text-uppercase font-weight-bold">
                <a href="#!" class="text-white">Awards</a>
              </h6>
            </div>
            <!-- Grid column -->

            <!-- Grid column -->
            <div class="col-md-2">
              <h6 class="text-uppercase font-weight-bold">
                <a href="#!" class="text-white">Help</a>
              </h6>
            </div>
            <!-- Grid column -->

            <!-- Grid column -->
            <div class="col-md-2">
              <h6 class="text-uppercase font-weight-bold">
                <a href="#!" class="text-white">Contact</a>
              </h6>
            </div>
            <!-- Grid column -->
          </div>
          <!-- Grid row-->
        </section>
        <!-- Section: Links -->

        <hr class="my-5" />

        <!-- Section: Text -->
        <section class="mb-5">
          <div class="row d-flex justify-content-center">
            <div class="col-lg-8">
              <p>
                Discover the ultimate online shopping experience with our
                e-commerce website. Shop from the comfort of your own home and
                browse through our vast selection of products from trusted
                brands and sellers. With easy navigation and secure payment
                options, we make online shopping a breeze. Start shopping today
                and experience the convenience of our e-commerce website.
              </p>
            </div>
          </div>
        </section>
        <!-- Section: Text -->

        <!-- Section: Social -->
        <section class="text-center mb-5">
          <a href="" class="text-white me-4">
            <i class="fab fa-facebook-f"></i>
          </a>
          <a href="" class="text-white me-4">
            <i class="fab fa-twitter"></i>
          </a>
          <a href="" class="text-white me-4">
            <i class="fab fa-google"></i>
          </a>
          <a href="" class="text-white me-4">
            <i class="fab fa-instagram"></i>
          </a>
          <a href="" class="text-white me-4">
            <i class="fab fa-linkedin"></i>
          </a>
          <a href="" class="text-white me-4">
            <i class="fab fa-github"></i>
          </a>
        </section>
        <!-- Section: Social -->
      </div>
      <!-- Grid container -->

      <!-- Copyright -->
      <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2)">
        Â© 2020 Copyright:
        <a class="text-white" href="https://mdbootstrap.com/">BilleVille.com</a>
      </div>
      <!-- Copyright -->
    </footer>
  </body>
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N"
    crossorigin="anonymous"
  ></script>
  <script>

//////////////////////to hide or show password////////////////

    const password = document.getElementById("password")
    function showPass(){
       if(password.type=="password"){
        password.type = "text"
       }
       else{
        password.type = "password"
       }
       
    }
//////////////////// to send post request///////////////////

    const form = document.getElementById("container");
    const url = "https://bille-ville-backend.onrender.com/user/register";
    function User(f,l,e,p,m,d) {
      (this.first_name = f),
        (this.last_name = l),
        (this.email_address = e),
        (this.password = p),
        (this.date_of_birth=m+d)
    }
    form.addEventListener("submit", (event) => {
      event.preventDefault();

      const first_name = document.getElementById("first_name").value;
      const last_name = document.getElementById("last_name").value;
      const email_address = document.getElementById("email_address").value;
      const password  = document.getElementById("password").value;
      //const date_of_birth = document.getElementById("date_of_birth").value
      const month = document.getElementById("month").value
      const date = document.getElementById("date").value
      const response= document.getElementById("response")

      const user = new User(first_name,last_name,email_address,password,month,date);
      //console.log(user)
      //console.log(user);

      fetch(url, {
        method: "POST",
        headers: {
          "content-type": "application/json",
        },
        body: JSON.stringify(user),
      })
        .then((res) => res.json())
        .then((res) => {
          console.log(res)
          let resmsg = document.getElementById("resmsg");
          
          response.innerText = res.msg;
          alert("user registered successfully");
          window.location.href = "login.html";
        })
        .catch((err) => {
          alert(err.message);
          console.log(err.message);
        });
        
    });
  </script>
  </script>
</html>
